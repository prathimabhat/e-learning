{% extends 'student_template/base_template.html' %}
{% load google_translate %}
{% block page_title %}
<input type=button value="&#129128" onClick="javascript:history.go(-1);" style="border: none; color:none;" class="notranslate">
Home
{% endblock page_title %}
{% block main_content %}
<!-- Main content -->
{% google_translate %}
<section class="content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12">
        <!-- general form elements -->
        <div class="card card-primary">
          <div class="card-header">
            <h3 class="card-title">About Me</h3>
          </div>
          <!-- /.card-header -->
          <!-- form start -->
          <form role="form" action="{% url 'student_profile_save' %}" method="post">
            {% csrf_token %}
            <div class="card-body">
              <section id="student-detail-section header">
                <div id="student-detail-section--inner">
                  <div class="container">
                    <div class="row py-4s">
                      <div class="col-3">
                        <img class="student-profile-img" src="{{ student.profile_pic }}" alt="" width="200" height="200"
                          style="border-radius: 50%;
                      box-shadow: -1px 4px 13px -6px rgb(94, 92, 92);">
                      </div>
                      <div class="col-8 d-flex">
                        <ul class="student_profile_data p-0" style="list-style-type: none;">
                          <li>
                            Name : <span class="data">{{ user.first_name }} {{ user.last_name }}</span>
                          </li>
                          <li>
                            Class : <span class="data">{{ student.course_id.course_name }}</span>
                          </li>
                          <li>
                            Roll Number : <span class="data">{{ student.roll_number }}</span>
                          </li>
                          <li>
                            Session : <span class="data">{{ student.session_year_id.session_start_year }} TO
                              {{ student.session_year_id.session_end_year }}</span>
                          </li>
                          <li>
                            Date Of Birth : <span class="data">{{ student.dob | date:'d-m-Y' }}</span>
                          </li>
                          <li>
                            Email ID : <span class="data">{{ user.email }}</span>
                          </li>
                          <li>
                            Gender : <span class="data">{{ student.gender }}</span>
                          </li>
                          <li>
                            Contact Number : <span class="data">{{ student.ph_no }}</span>
                          </li>
                          <li>
                            Address : <span class="data">{{ student.address }}</span>
                          </li>
                      </div>
                    </div>
                  </div>
                </div>
              </section>

              <br>


              <section class="content">
                <div class="container-fluid">
                  <div class="row">
                    <div class="col-lg-3 col-6">
                      <!-- small box -->
                      <div class="small-box bg-info">
                        <div class="inner">

                          <p>Attendance</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-stats-bars"></i>
                        </div>
                        <br>
                        <br>
                        <a href="{% url 'student_view_attendance' %}" class="small-box-footer">More info <i
                            class="fas fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                      <!-- small box -->
                      <div class="small-box bg-success">
                        <div class="inner">

                          <p>Assignments</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-stats-bars"></i>
                        </div>
                        <br>
                        <br>
                        <a href="{% url 'assignments:student_assignment' %}" class="small-box-footer">View
                          Assignments<i class="fas fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                      <!-- small box -->
                      <div class="small-box bg-warning">
                        <div class="inner">

                          <p>Resources</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-stats-bars"></i>
                        </div>
                        <br>
                        <br>
                        <a href="{% url 'assignments:student_resources' %}" class="small-box-footer">View Resources <i
                            class="fas fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                    <!-- ./col -->
                    <div class="col-lg-3 col-6">
                      <!-- small box -->
                      <div class="small-box bg-danger">
                        <div class="inner">
                          <p>Result</p>
                        </div>
                        <div class="icon">
                          <i class="ion ion-pie-graph"></i>
                        </div>
                        <br>
                        <br>
                        <a href="student_view_result" class="small-box-footer">View Result<i
                            class="fas fa-arrow-circle-right"></i></a>
                      </div>
                    </div>
                    <!-- ./col -->
                  </div>
                  <!-- <div class="row">
      <div class="col-lg-6">
        <div class="card card-danger">
          <div class="card-header">
            <h3 class="card-title">Attendance Chart</h3>
            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
              </button>
              <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
          <div class="card-body">
            <canvas id="pieChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;">
            </canvas>
          </div> -->
                  <!-- /.card-body -->
                  <!-- </div> -->
                  <!-- /.card -->
                  <!-- </div>
      <div class="col-lg-6">
        <div class="card card-success">
          <div class="card-header">
            <h3 class="card-title">Attendance Statistics</h3>

            <div class="card-tools">
              <button type="button" class="btn btn-tool" data-card-widget="collapse"><i class="fas fa-minus"></i>
              </button>
              <button type="button" class="btn btn-tool" data-card-widget="remove"><i class="fas fa-times"></i></button>
            </div>
          </div>
          <div class="card-body">
            <div class="chart">
              <canvas id="barChart"
                style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
            </div>
          </div> -->
                  <!-- /.card-body -->
                  <!-- </div> -->
                  <!-- /.card -->
                  <!-- </div>

    </div> -->
                </div>
              </section>
              <!-- /.content -->
              {% endblock main_content %}


              {% block custom_js %}
              <script>
                $(document).ready(function () {

                  var pieData = {
                    labels: [
                      'present',
                      'absent',
                    ],

                    datasets: [
                      {
                        data: [{{ attendance_present }}, {{ attendance_absent }}],
                    backgroundColor: ['#00a65a', '#f56954'],
                }
                  ]
             };
                var pieChartCanvas = $('#pieChart').get(0).getContext('2d')
                var pieOptions = {
                  maintainAspectRatio: false,
                  responsive: true,
                }
                //Create pie or douhnut chart
                // You can switch between pie and douhnut using the method below.
                var pieChart = new Chart(pieChartCanvas, {
                  type: 'pie',
                  data: pieData,
                  options: pieOptions
                });
  
});
              </script>
              {% endblock custom_js %}